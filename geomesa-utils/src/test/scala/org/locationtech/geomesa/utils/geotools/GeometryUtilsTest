/***********************************************************************
  * Copyright (c) 2013-2016 Commonwealth Computer Research, Inc.
  * All rights reserved. This program and the accompanying materials
  * are made available under the terms of the Apache License, Version 2.0
  * which accompanies this distribution and is available at
  * http://www.opensource.org/licenses/apache2.0.php.
  *************************************************************************/

package org.locationtech.geomesa.utils.geotools

import org.geotools.factory.CommonFactoryFinder
import org.junit.runner.RunWith
import org.locationtech.geomesa.utils.text.WKTUtils
import org.specs2.mutable.Specification
import org.specs2.runner.JUnitRunner

@RunWith(classOf[JUnitRunner])
class GeometryUtilsTest extends Specification {

  val ff = CommonFactoryFinder.getFilterFactory2

  "Geometry Utils" should {
    "correctly insert waypoints in a BBOX" >> {
      val geom = WKTUtils.read("POLYGON((-180 -90, -180 90, 180 90, 180 -90, -180 -90))")
      val waypoints = GeometryUtils.addWayPoints(geom.getCoordinates)
      val oldWaypoints = GeometryUtils.addWayPointsToBBOX(geom.getCoordinates)
      waypoints must containTheSameElementsAs(oldWaypoints)
    }
  }
}
